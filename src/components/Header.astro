---
import Container from "@components/Container.astro";
import Link from "@components/Link.astro";
import { SITE } from "@consts";

const currentPath = Astro.url.pathname;

const navItems = [
  { href: "/posts", label: "posts", icon: "fas fa-newspaper" },
  { href: "/work", label: "work", icon: "fas fa-briefcase" },
  { href: "/projects", label: "projects", icon: "fas fa-rocket" },
];
---

<header>
  <Container>
    <div class='flex flex-wrap gap-y-2 justify-between'>
      <Link href='/' underline={false}>
        <div class='font-semibold'>
          {SITE.NAME}
        </div>
      </Link>
      <nav class='flex gap-3'>
        {
          navItems.map(({ href, label, icon }) => {
            const isActive = currentPath.startsWith(href);
            return (
              <Link href={href} underline={false}>
                <button
                  class={`relative group w-fit flex items-center gap-2 px-3 py-1.5 flex-nowrap rounded transition-colors duration-300 ease-in-out ${
                    isActive
                      ? "bg-black/10 dark:bg-white/10 text-black dark:text-white"
                      : "hover:bg-black/5 dark:hover:bg-white/5 hover:text-black dark:hover:text-white"
                  }`}
                >
                  <i class={`${icon} text-sm`} />
                  {label}
                </button>
              </Link>
            );
          })
        }
      </nav>
    </div>
  </Container>
</header>
